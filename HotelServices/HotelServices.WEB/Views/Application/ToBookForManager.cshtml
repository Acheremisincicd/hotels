@model HotelServices.WEB.Models.BookingViewModel

@{
    ViewBag.Title = "Бронирование номера";
}

<h2>Выберите даты в соответствии с запросом на бронирование</h2>


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="fields">
        @Html.ValidationSummary(true)
        <input type="hidden" name="RoomId" value="@Model.RoomId" />

        <div>
            @Html.LabelFor(model => model.CheckIn)
            <div>
                <input type="date" name="CheckIn" min="@DateTime.Now.ToString("yyyy/MM/dd").Substring(0, 10).Replace(".", "-")" max="@DateTime.Now.AddMonths(1).ToString("yyyy/MM/dd").Substring(0, 10).Replace(".", "-")" value="@DateTime.Now.ToString("yyyy/MM/dd").Substring(0, 10).Replace(".", "-")" />
                @Html.ValidationMessageFor(model => model.CheckIn)
            </div>
        </div>

        <div>
            @Html.LabelFor(model => model.CheckOut)
            <div>
                <input type="date" name="CheckOut" min="@DateTime.Now.AddDays(1).ToString("yyyy/MM/dd").Substring(0, 10).Replace(".", "-")" max="@DateTime.Now.AddMonths(1).ToString("yyyy/MM/dd").Substring(0, 10).Replace(".", "-")" value="@DateTime.Now.AddDays(1).ToString("yyyy/MM/dd").Substring(0, 10).Replace(".", "-")" />
                @Html.ValidationMessageFor(model => model.CheckOut)
            </div>
        </div>
        <div>
            <input type="submit" value="Выполнить бронирование для пользователя" class="subm" />
        </div>
    </div>
}

@Html.ActionLink("Сообщить пользователю о том, что в наличии нет свободных " +
    "номером по заданным критериям на заданные даты",
    "SendRefusal",
    "Application",
    new { ApplicationId = Model.ApplicationId },
    new {@class="refuse" })